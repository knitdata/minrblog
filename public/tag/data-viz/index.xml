<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Data Viz | Min Tamang</title>
    <link>/tag/data-viz/</link>
      <atom:link href="/tag/data-viz/index.xml" rel="self" type="application/rss+xml" />
    <description>Data Viz</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>© Min Tamang 2020</copyright><lastBuildDate>Mon, 09 Dec 2019 21:13:14 -0500</lastBuildDate>
    <image>
      <url>/images/icon_hufac689ed154f22ff77b5bea0395abf25_7664_512x512_fill_lanczos_center_2.png</url>
      <title>Data Viz</title>
      <link>/tag/data-viz/</link>
    </image>
    
    <item>
      <title>Statebins</title>
      <link>/post/statebins/</link>
      <pubDate>Mon, 09 Dec 2019 21:13:14 -0500</pubDate>
      <guid>/post/statebins/</guid>
      <description>


&lt;p&gt;&lt;strong&gt;Statebins&lt;/strong&gt; are U.S. State Cartogram Heatmaps, alternative to Choropleth Maps for USA States.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# load packages
library(pacman)
p_load(statebins,readxl,dplyr)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Statebins with 2018 Bachelor’s Degree or Higher by State (percent) data.&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# upload data
 data1 &amp;lt;- read_excel(&amp;quot;GeoFRED_Bachelor&amp;#39;s_Degree_or_Higher_by_State_Percent.xls&amp;quot;, skip = 1)
data1 %&amp;gt;% sample_n(5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 4
##   `Series ID` State                Code  Year_2018
##   &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;                &amp;lt;chr&amp;gt;     &amp;lt;dbl&amp;gt;
## 1 GCT1502HI   Hawaii               15         33.5
## 2 GCT1502CA   California           06         34.2
## 3 GCT1502LA   Louisiana            22         24.3
## 4 GCT1502OH   Ohio                 39         29  
## 5 GCT1502DC   District of Columbia 11         60.4&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# statebins
statebins_continuous(state_data = data1, state_col = &amp;quot;State&amp;quot;,
                     text_color = &amp;quot;white&amp;quot;, value_col = &amp;quot;Year_2018&amp;quot;,
                     brewer_pal=&amp;quot;Blues&amp;quot;, font_size = 3,
                     legend_title=&amp;quot;2018 Bachelor&amp;#39;s Degree or Higher by State (percent)&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: `show_guide` has been deprecated. Please use `show.legend` instead.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/statebins/index_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Statebins with 2018 Median Household Income by State Data&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data2 &amp;lt;- read_excel(&amp;quot;GeoFRED_Median_Household_Income_by_State_Percent_Change.xls&amp;quot;, skip = 1)
data2 %&amp;gt;% sample_n(5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 4
##   `Series ID`     State       Code  Year_2018
##   &amp;lt;chr&amp;gt;           &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;     &amp;lt;dbl&amp;gt;
## 1 MEHOINUSUTA646N Utah        49        10.4 
## 2 MEHOINUSAKA646N Alaska      02       -11.9 
## 3 MEHOINUSMSA646N Mississippi 28        -1.16
## 4 MEHOINUSNMA646N New Mexico  35         5.88
## 5 MEHOINUSVAA646N Virginia    51         8.95&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;statebins_continuous(state_data = data2, state_col = &amp;quot;State&amp;quot;,
                     text_color = &amp;quot;white&amp;quot;, value_col = &amp;quot;Year_2018&amp;quot;,
                     brewer_pal=&amp;quot;Greens&amp;quot;, font_size = 3,
                     legend_title=&amp;quot;
Median Household Income by State&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: `show_guide` has been deprecated. Please use `show.legend` instead.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/statebins/index_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Statebins with 2018 Resident Population by State (change, thousands of persons) Data&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data3 &amp;lt;- read_excel(&amp;quot;GeoFRED_Resident_Population_by_State_Change_Thousands_of_Persons.xls&amp;quot;, skip=1)
data3 %&amp;gt;% sample_n(5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 4
##   `Series ID` State        Code  Year_2018
##   &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;        &amp;lt;chr&amp;gt;     &amp;lt;dbl&amp;gt;
## 1 UTPOP       Utah         49       58.0  
## 2 RIPOP       Rhode Island 44        0.829
## 3 MSPOP       Mississippi  28       -3.13 
## 4 INPOP       Indiana      18       31.8  
## 5 MTPOP       Montana      30        9.22&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;statebins_continuous(state_data = data3, state_col = &amp;quot;State&amp;quot;,
                     text_color = &amp;quot;white&amp;quot;, value_col = &amp;quot;Year_2018&amp;quot;,
                     brewer_pal=&amp;quot;Reds&amp;quot;, font_size = 3, 
                     legend_title=&amp;quot;2018 Resident Population by State (change, thousands of persons) &amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: `show_guide` has been deprecated. Please use `show.legend` instead.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/statebins/index_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Choropleth &amp; Heat Map</title>
      <link>/post/choropleth/</link>
      <pubDate>Mon, 18 Nov 2019 21:13:14 -0500</pubDate>
      <guid>/post/choropleth/</guid>
      <description>


&lt;p&gt;&lt;strong&gt;Choropleth&lt;/strong&gt; maps add color to states or countries relative to a variable.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(pacman)
p_load(tidyverse, choroplethr, choroplethrMaps,RColorBrewer)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;State Population&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(df_pop_state)
pop_state &amp;lt;- df_pop_state %&amp;gt;% arrange(-(value))
top_n(pop_state,10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Selecting by value&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##            region    value
## 1      california 37325068
## 2           texas 25208897
## 3        new york 19398125
## 4         florida 18885152
## 5        illinois 12823860
## 6    pennsylvania 12699589
## 7            ohio 11533561
## 8        michigan  9897264
## 9         georgia  9714569
## 10 north carolina  9544249&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;state_choropleth(df_pop_state, 
                 title  = &amp;quot;US 2012 State Population Estimates&amp;quot;, 
                 legend = &amp;quot;Population&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/choropleth/index_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;County Population&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(df_pop_county)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;county_choropleth(df_pop_county,
                 title  = &amp;quot;US 2012 County Population Estimates&amp;quot;, 
                 legend = &amp;quot;Population&amp;quot;, num_colors = 8)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/choropleth/index_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;California Counties&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;county_choropleth(df_pop_county, 
                  title = &amp;quot;California County Population Estimates&amp;quot;, 
                  legend = &amp;quot;Population&amp;quot;,
                  state_zoom = &amp;quot;california&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/choropleth/index_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;State Demographics&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(&amp;quot;df_state_demographics&amp;quot;)
head(df_state_demographics,10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                  region total_population percent_white percent_black
## 1               alabama          4799277            67            26
## 2                alaska           720316            63             3
## 3               arizona          6479703            57             4
## 4              arkansas          2933369            74            15
## 5            california         37659181            40             6
## 6              colorado          5119329            70             4
## 7           connecticut          3583561            70             9
## 8              delaware           908446            65            21
## 9  district of columbia           619371            35            49
## 10              florida         19091156            57            15
##    percent_asian percent_hispanic per_capita_income median_rent median_age
## 1              1                4             23680         501       38.1
## 2              5                6             32651         978       33.6
## 3              3               30             25358         747       36.3
## 4              1                7             22170         480       37.5
## 5             13               38             29527        1119       35.4
## 6              3               21             31109         825       36.1
## 7              4               14             37892         880       40.2
## 8              3                8             29819         828       38.9
## 9              3               10             45290        1154       33.8
## 10             2               23             26236         838       41.0&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# African American Population Distribution
df_state_demographics$value&amp;lt;- df_state_demographics$percent_black
state_choropleth(df_state_demographics, 
                 title  = &amp;quot;African American Population Distribution in US&amp;quot;, 
                 legend = &amp;quot;Population&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/choropleth/index_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# White Population Distribution
df_state_demographics$value&amp;lt;- df_state_demographics$percent_white
state_choropleth(df_state_demographics, 
                 title  = &amp;quot;White Population Distribution in US&amp;quot;, 
                 legend = &amp;quot;Population&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/choropleth/index_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# Asian Population Distribution
df_state_demographics$value&amp;lt;- df_state_demographics$percent_asian
state_choropleth(df_state_demographics, 
                 title  = &amp;quot;Asian Population Distribution in US&amp;quot;, 
                 legend = &amp;quot;Population&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/choropleth/index_files/figure-html/unnamed-chunk-10-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;World Map&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(&amp;quot;df_pop_country&amp;quot;)
country_pop &amp;lt;- df_pop_country %&amp;gt;% arrange(desc(value))
head(country_pop,10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                      region      value
## 1                     china 1350695000
## 2                     india 1236686732
## 3  united states of america  313873685
## 4                 indonesia  246864191
## 5                    brazil  198656019
## 6                  pakistan  179160111
## 7                   nigeria  168833776
## 8                bangladesh  154695368
## 9                    russia  143178000
## 10                    japan  127561489&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;country_choropleth(country_pop, 
                 title  = &amp;quot;World map based on population estimates&amp;quot;, 
                 legend = &amp;quot;Population&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in self$bind(): The following regions were missing and are being set to
## NA: namibia, western sahara, taiwan, antarctica, kosovo&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/choropleth/index_files/figure-html/unnamed-chunk-12-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Heatmaps&lt;/strong&gt; visual the values in a matrix by adding color relative to a variable(s), usually down columns.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(df_state_demographics)
df_state_demographics &amp;lt;- df_state_demographics %&amp;gt;% arrange(total_population)

X &amp;lt;- data.matrix(df_state_demographics[,2:8])

row.names(X) &amp;lt;- df_state_demographics[,1]

head(X)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                      total_population percent_white percent_black percent_asian
## wyoming                        570134            85             1             1
## district of columbia           619371            35            49             3
## vermont                        625904            94             1             1
## north dakota                   689781            88             1             1
## alaska                         720316            63             3             5
## south dakota                   825198            84             1             1
##                      percent_hispanic per_capita_income median_rent
## wyoming                             9             28902         647
## district of columbia               10             45290        1154
## vermont                             2             29167         754
## north dakota                        2             29732         564
## alaska                              6             32651         978
## south dakota                        3             25740         517&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heatmap(X, Rowv=NA, Colv=NA, col = brewer.pal(9, &amp;quot;Blues&amp;quot;), scale = &amp;quot;column&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/choropleth/index_files/figure-html/unnamed-chunk-14-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
